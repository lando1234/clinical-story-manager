#!/usr/bin/env node

/**
 * Creates index.ts file for Prisma Client exports
 * This ensures @/generated/prisma imports work correctly with Next.js/Turbopack
 */

const fs = require('fs');
const path = require('path');

const prismaOutputDir = path.join(__dirname, '..', 'src', 'generated', 'prisma');
const indexFilePath = path.join(prismaOutputDir, 'index.ts');

try {
  const indexContent = `// Re-export everything from client.ts to make @/generated/prisma imports work
// This file is auto-generated by scripts/create-prisma-index.js
export * from './client';
export * from './enums';
export * from './models';
`;

  fs.writeFileSync(indexFilePath, indexContent, 'utf8');
  console.log('✓ Created index.ts for Prisma Client exports');
} catch (error) {
  console.error('✗ ERROR: Failed to create index.ts file');
  console.error('✗ Error details:', error.message);
  process.exit(1);
}

